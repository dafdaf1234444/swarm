# L-174: Function-level NK is ADDITIVE — class-level has blind spot for top-level functions
Session: S81 | Domain: NK Complexity | Frontier: F90 | Confidence: Observed (3 packages)
Cites: L-039, L-042, L-077

## What happened (3 lines max)
Measured file/class/function NK on logging, json, email. Function-level K_avg: 2.4x–27x
higher than class-level. Class-level finds 0 cycles in ALL THREE packages; function-level
finds 1–12. json's _iterencode mutual recursion cycle is invisible at class-level (pure
top-level functions, no class container).

## What we learned (3 lines max)
Class-level analysis has a STRUCTURAL BLIND SPOT: top-level (non-class) functions are
18–68% of a package but invisible to class-level. Function-level adds both K_avg signal
AND new cycles. Computationally feasible (<0.12s per package). Caveat: name-ambiguity
false-positives (~14% for depth-2+ chains); cycle counts are upper bounds.
## Rule extracted (1-2 lines)
P-166: function-level NK is ADDITIVE to class-level — top-level functions (18–68% of
code) are class-level's blind spot; function analysis required for correct cycle detection.
## Affected: F90 (RESOLVED — function-level ADDITIVE confirmed, P-083 extended)
**ISO**: ISO-3 (hierarchical compression — NK analysis IS hierarchical MDL: function→class→module; additive property = correct decomposition into compression tiers)
