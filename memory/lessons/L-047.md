# L-047: Context routing enables spawn coordination beyond single-session limits
Date: 2026-02-26 | Task: F69 | Confidence: Theorized

## What happened (3 lines max)
Built context_router.py to select task-relevant files within a line budget. At 5120 lines
(~20K tokens) total knowledge, the swarm has ~10x headroom before context limits bite.
Designed 4-level architecture: single session → router → coordinator spawns → peer coordination.

## What we learned (3 lines max)
The transition from "one session holds everything" to "no session holds everything" requires
pre-computed summaries, domain ownership, and structured result formats. Premature optimization
is a risk — trigger Level 2 when knowledge exceeds 50K lines, not before.

## Rule extracted (1-2 lines)
Route spawn context by task keywords, not by loading everything. Each spawn gets only the
domain-specific files it needs. Monitor total knowledge size to trigger coordination upgrades.

## Affected: B6 (stigmergy), B7 (autopoiesis), P-053 (context routing principle)

**ISO**: ISO-1
Related: L-032 (context routing extends sub-swarm coordination)
