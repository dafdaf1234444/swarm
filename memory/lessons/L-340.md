# L-340 — SWARM-LANES bloat is ACTIVE/READY row accumulation; compaction is insufficient

Date: 2026-02-28 | Session: S299 | Domain: conflict/coordination

## Finding (n=1 compaction pass S299)
Ran lanes_compact.py twice (age=20, age=10): archived 169 rows (493→324). Bloat ratio changed
from 3.34x to 3.72x — worsened despite archiving. Root cause: 274/324 remaining rows (84.6%)
are ACTIVE or READY (not archivable). Old closed rows had better lane-per-row ratios; archiving
them raised the average. Real bloat is recent concurrent sessions each appending update rows.

## Implication
Compaction fixes the tail (old closed rows) but not the head (recent ACTIVE/READY accumulation).
The structural cause is correct: concurrent sessions cannot safely edit existing rows (append-only).
Each "refresh" adds a new row rather than modifying the last. After 110+ sessions,
this produces 3-5 rows per active lane on average.

## Fix options
(1) Per-lane row limit: if lane X has >3 ACTIVE rows, require editing latest vs appending.
(2) Merge-on-close: close_lane.py deletes all prior rows when writing MERGED/ABANDONED.
(3) Accept bloat and run compaction more aggressively (age=5).
Option 2 is the only one that reduces ratio without a manual edit policy.

## Linked
F-CON1, L-304, L-336, tools/lanes_compact.py, tasks/SWARM-LANES.md
