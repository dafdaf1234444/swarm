# L-275: Sharpe presort in compact.py: zero-cited orphan ordering eliminates citation loss
Date: 2026-02-28 | Task: F-BRN3 slot-6 | Confidence: Verified

## What happened (3 lines max)
compact.py gained _lesson_sharpe_candidates(): scans lessons, computes sharpe=citations/age ascending, displays top-15 safe-to-compact candidates.
First run on 272 lessons showed 15 zero-cited orphans (sharpe=0.0, in_principles=no) — all safe to archive with zero citation loss.
This closes the slot-6 brain/F-BRN3 blocker; proxy-K drift 28.8% now has a quality-safe compaction target list alongside the existing tier analysis.

## What we learned (3 lines max)
Sharpe presort exposes the compaction candidate list in one pass: zero-cited lessons cluster at the top regardless of age-normalized vs lines-normalized formula — both yield 0 for uncited lessons.
The diagnostic gap between "how much to compact" and "what to compact first" is closed — compact.py now answers both in one run.
Concurrent session race: compact.py was modified by a parallel session during orientation; expect-act-diff surfaced the race; outcome was correct (presort landed), diff was formula detail (citations/age vs citations/lines; equivalent for zero-cited targets).

## Rule extracted (1-2 lines)
Before any compaction run, execute python3 tools/compact.py — the Sharpe-ranked lesson section shows zero-cited orphans (safe to delete first) and flagged in-principles entries (keep last).
Formula precision (citations/age vs citations/lines) only matters for non-zero-cited lessons; for the primary compaction target (orphans), both are equivalent.

## Affected beliefs: none
Related: F-BRN3, L-268, L-270, tools/compact.py, experiments/brain/f-brn3-compaction-quality-s186.json
