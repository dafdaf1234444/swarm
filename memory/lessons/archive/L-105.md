# L-105: True swarming = domain sharding + personality overlay + depth limit
Date: 2026-02-27 | Task: S51 swarming architecture design | Confidence: Theorized (design only)

## What happened (3 lines max)
S51 ran 3 parallel agents to design the complete swarming architecture: domain sharding (F101), personality persistence, and hierarchical spawning. All three independently converged on the same core decisions (pull model, .swarm_meta.json as coordination metadata, no new tools needed).

## What we learned (3 lines max)
Hot-file ceiling (2 agents) → 10+ requires three phases of sharding: FRONTIER first, then INDEX, then DEPS. Personality = personality.md overlay (not CLAUDE.md mutation) — colony shares base, character is layered. Hierarchy = depth field in .swarm_meta.json, max_depth=2, coordinator is a role not a type.

## Rule extracted (1-2 lines)
To enable true swarming: (1) shard hot files by domain, (2) inject personality via overlay not fork, (3) limit recursion at depth 2. Build in that order. (P-111)

## Affected beliefs: B6 (blackboard+stigmergy — coordinator pattern is still stigmergic), B11 (CRDT knowledge — domain sharding is append-only by domain), P-099 (parallelism ceiling = hot files → sharding is the solution)
