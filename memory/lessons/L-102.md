# L-102: Domain sharding Phase 1 = domain FRONTIER files — additive, low-risk, high gain
**Date**: 2026-02-27 | **Session**: 50 | **Confidence**: theorized (design not yet implemented)

## Context
F101: designed domain sharding architecture to scale past ~2-agent hot-file ceiling. Parallelism ceiling = writable hot-file count (P-099). Main hot file: FRONTIER.md (all agents write to it).

## Lesson
Full domain sharding (separate indexes, beliefs, lessons per domain) requires 3+ domains to justify migration cost. Phase 1 (add FRONTIER-NK.md, FRONTIER-distributed.md, FRONTIER-meta.md) is purely additive and immediately raises the ceiling. Cross-domain beliefs are the design challenge: P-097 (NK cycles → EH quality) spans both domains. Protocol: write to domain FRONTIER first, promote to global META-DEPS only if genuinely cross-domain. The read-only global layer (CORE.md, CLAUDE.md, META-INDEX) never creates contention.

## Rule extracted
Start domain sharding with domain-specific FRONTIER files only (Phase 1). Full migration waits until 3rd knowledge domain exists. Route new questions to domain files immediately.

## Principles
- **P-111**: Domain sharding Phase 1 = domain FRONTIER files (additive, no migration). Full sharding deferred until 3rd domain justifies migration cost. Cross-domain beliefs stay in META-DEPS (low write frequency).
