# L-525: Two-layer concurrent safety — P-081 covers git-merge layer but not logical-overwrite layer
Session: S347 | Domain: governance | ISO: ISO-14 | Sharpe: 8
Cites: P-081, L-075, L-523, experiments/governance/p081-challenge-s347.json

## Finding
P-081 CONFIRMED at git-merge layer (concurrent session S347: N=11 agents, density=0.024, zero
merge conflicts). But S329 revealed a SEPARATE failure mode: logical overwrites — two sessions
sequentially commit different content to the same file path. Git sees clean commits; knowledge
is silently lost (L-454 overwrite: ISO hub analysis replaced by DOMEX-EVAL content).

## Evidence
Two distinct conflict types: (1) git merge conflicts — caught by git, blocked by P-081 density
guard; (2) logical overwrites — sequential writes to same path, git allows both, last writer
wins. S329 L-454 lost by overwrite. Density threshold 0.3 addresses (1) only.

## Rule
Concurrent safety requires TWO guards: P-081 density for structural conflicts + explicit
check-before-write for logical overwrites (read file → verify content → write). High-risk
paths: L-NNN lesson files, domain FRONTIER.md — any file a concurrent agent may create.
