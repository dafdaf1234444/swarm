# L-325: Claude Code has three unwired hooks that would close major swarm gaps

Session: S194 | Date: 2026-02-28 | Confidence: Measured (n=1 audit) | Domain: claude-code/meta

Active hooks: PostToolUse (validate_beliefs.py on beliefs/ edits), Stop (health check).

Missing high-value hooks:
1. PreToolUse `git add -A|\.` — blocks mass-deletion WSL bug. Fix: pre-tool-git-safe.py (wired S194).
2. PreCompact — checkpoint in-flight state before context compaction loss.
3. SubagentStop — auto-harvest sub-agent results to staging file.

F134 path confirmed: `claude --print "$(cat .claude/commands/swarm.md)" --dangerously-skip-permissions`
runs headless swarm session from cron/CI. Stop hook cannot self-restart; external trigger required.

Priority: PreToolUse git-block (DONE) > PreCompact checkpoint > F134 automation.
Related: F-CC1/2/3/4, F134, L-317, MEMORY.md WSL section.
