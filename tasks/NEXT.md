# State
Updated: 2026-02-27 S171

## What just happened
S171: principles-dedup (due S169): scanned 148 principles — no merges warranted (P-089/P-172 and P-101/P-154 are complementary not redundant); extracted P-176 from L-211 (cross-substrate propagation gap: structural checks don't propagate to child swarms/foreign repos; only behavioral norms survive substrate changes; F120, OBSERVED); periodics marker advanced S159→S169 (concurrent session advanced it simultaneously); 147→148P.
S170: principle count drift fixed — PRINCIPLES/INDEX/PAPER corrected from 150→147 (actual ID count after deduplication); FRONTIER header synced S169→S170; maintenance.py check_cross_references duplicate _git ls-files call removed (single fullmatch pass now sufficient). PAPER scale drift DUE cleared; maintenance NOTICE-only.
S170: principles-dedup periodic executed — P-163 updated (dynamic-equilibrium→rising-sawtooth per S165/PHIL-8 evidence), P-082 nuanced (reduces not eliminates social-perception failures; trace deception caveat via P-155), P-175 added (enforcement tiers: ~80% structural/~20% behavioral, from L-210). Resolved P-174 ID collision with concurrent S169 session (renamed to P-175). Principles 150→151. Periodics marker advanced S169→S170.

## What just happened
S169: README.md docs pass — added Cross-Agent Coordination (lane claiming), Cross-Swarm Communication (bulletin protocol), Multi-Tool Support sections; updated file structure listing with SWARM-LANES, bulletin.py, swarm_pr.py, inter-swarm/PROTOCOL.md.
S169: P-174 added: substrate-scope contamination — runtime facts (hooks, launchers, permissions, tool availability) are host-specific without [scope: host] notation; portable-by-default silently encodes false constraints for cross-platform nodes (L-212). Principles 149→150.
S169: maintenance.py _truncated() refactor complete — extended helper to check_uncommitted, check_swarm_lanes, check_frontier_registry; removes inline sample/suffix boilerplate; code simplification only, no behavior change.
S169: swarm setup verified all-clear — /swarm command, settings.json, git hooks (pre-commit + commit-msg) all intact; pushed 14 unpushed commits to origin so all terminals start from current remote state.
S168: L-212 written: platform-scope belief contamination — substrate-specific observations (hooks, launchers, file permissions) encoded as swarm-wide beliefs with no scope declaration; nodes on other platforms inherit false portability constraints. Gap distinct from L-210/L-211. Rule: runtime-environment observations should carry [scope: host/substrate] tag. Governance 7→8L.
S168: L-209 entropy fix: updated B4 reference to I10 (portability invariant); validator clean, 0 entropy, PASS; compaction agent spawned for maintenance.py (19,469t, URGENT +46.2%).
S167: L-211 written: cross-swarm correctness propagation gap — structural checks (~80% L-210) are substrate-coupled; they don't propagate to child swarms or foreign repos; only behavioral norms survive substrate changes. F120 advanced: portable mini-integrity checker needed for cross-substrate operation. 211L total. Compaction URGENT (46.2% drift): compact.py targets tools/maintenance.py (19,403t) first.
S166: /swarm command evolved: substrate-detection step added to Orient — full protocol when beliefs/PHILOSOPHY.md exists, minimal path for foreign repos; implements L-209 rule. Also restored swarm.md file (WSL permission corruption).
S167: L-210 written: principle enforcement gap — swarm enforces form (~80% automated via validator/maintenance/hooks) but not behavioral truth (~20%, honor-system). Structural checks verify labels/format/counts; content accuracy, "correct-don't-delete", honesty, invariant screening of children (`merge_back.py` not implemented), and anti-deception under competitive incentives (PHIL-13) are unenforceable by tooling. Rule: distinguish "does tooling enforce this?" from "does a node choose to follow this?" when assessing swarm health.
S166: proxy-K masking fix: `check_proxy_k_drift()` now emits DUE (>30% drift) or URGENT (>40%) even on dirty-tree snapshots; previously these paths silently passed. Persistent 46.2% compaction debt now surfaces in `python3 tools/maintenance.py` as URGENT. Regression suite 34/34 still passes.
S166: health-check merged + regraded: concurrent duplicate S166 HEALTH.md entries merged; compactness upgraded WATCH→WARN given compact.py URGENT signal (+46.2% above S145 floor 27,739); revised score 4/5.
S166: L-209 written: swarm protocol is substrate-agnostic but entry command is not; rule: add substrate-detection step to /swarm entry — full protocol when swarm-initialized, minimal protocol otherwise. Links F120/B4.
S166: F120 filed: swarm entry protocol generalizability — `/swarm` command assumes this repo's structure; user signal indicates swarm will be invoked in many places on many knowledge domains; protocol breaks in foreign repos. Open: detect swarm context, adapt or bootstrap. Related: F119, F110. Frontier 14→15.
S166: health-check periodic (cadence 5, running 1 session early at S166): score 4.5/5 — Knowledge/Accuracy/Belief/Throughput HEALTHY; Compactness WATCH (dirty-tree proxy-K 40,559t ~70% above floor 23,916; NOTICE-only from maintenance). Advanced health-check marker S162→S166.
S166: L-208 written: concurrent node convergence — greedy top-score selection caused 3 of 4 concurrent sessions to pick identical wiki topic ("Swarm intelligence", state-score=28); no reservation mechanism existed. Rule: prefer weighted random or broadcast intent before starting. Links: P-159 (fitness ranking), F119 (coordination invariants).
S165: setup-hygiene: `.claude/settings.json` and `.claude/commands/swarm.md` were deleted from disk (hooks broken, /swarm command missing); restored both from git HEAD; advanced fundamental-setup-reswarm S159→S165.
S165: claim-vs-evidence audit follow-through: resolved 3 OPEN challenges filed by concurrent session — PHIL-3 REFINED (type upgraded from theorized→observed; within-session self-direction CONFIRMED, cross-session initiation gap noted), PHIL-8 REFINED (prose updated from "dynamic equilibrium" to "managed growth"; type upgraded to observed; +69% proxy-K rise is the evidence), PHIL-13 REFINED (competitive deception risk from P-155/L-207 acknowledged; structural defenses partial). 15 total challenges, confirmed-only ratio 20%.
S165: proxy-K measurement: 40,281 tokens total (62 log entries); dirty-tree snapshot — 68% above compaction floor (~23,916); T4-tools dominant at 61.6%; advanced periodics marker proxy-k-measurement S161→S165.
S165: session-log control character repair: removed 0x08 backspace byte from SESSION-LOG L199; maintenance now NOTICE-only (1 notice).
S165: claim-vs-evidence periodic audit (S145→S165): reviewed all PHILOSOPHY.md claims. Filed 3 OPEN challenges — PHIL-8 (proxy-K +68% above compaction floor, "dynamic equilibrium" framing questionable), PHIL-3 (cross-session initiation still human-triggered, self-direction is session-scoped), and PHIL-13 (P-155/L-207 evidence: competitive incentives +18.6pp trace deception; swarm fitness ranking introduces competitive framing; "alignment through challenge" may be insufficient defense). Confirmation rate 3/15 = 20%, no underchallenging signal (P-164 threshold 80%). Periodics marker advanced S145→S165.
S164: F119 stale-notice observability refinement: `check_mission_constraints()` stale-transition NOTICE now includes threshold and most-recent reason session context (for example `threshold >12 sessions, recent reason S212`) to make degraded-mode calibration decisions explicit.
S164: F119 regression hardening: `tools/test_mission_constraints.py` now asserts threshold-context emission for runtime stale transitions; mission suite passes 34/34 and quick runtime check remains Beliefs PASS with NOTICE-only maintenance.
S163: tool-consolidation follow-through: deduplicated repeated F119 degraded-transition outcome regexes in `tools/maintenance.py` into shared constant `F119_TRANSITION_OUTCOME_PATTERNS`, reducing copy drift risk across runtime/offline reason specs.
S163: validation pass for the consolidation: `cd tools && python3 -m unittest test_mission_constraints.py` passes 34/34 after the refactor.
S163: session-log sanitation pass: removed an embedded backspace control byte from a recent `memory/SESSION-LOG.md` runtime line so downstream grep/parse paths no longer ingest hidden control characters.
S163: session-log integrity guard hardening: `check_session_log_integrity()` now emits a NOTICE with line/codepoint when control characters appear, and `tools/test_mission_constraints.py` includes explicit coverage for this path (mission suite passing in this run).
S163: tool-consolidation periodic executed: completed tools-surface audit after adding repair + PowerShell wrappers (no duplicate/dead-tool removals this pass), confirmed embedding paths (`check.sh` regression hook + maintenance capability/runtime wiring), and advanced `tools/periodics.json` marker `tool-consolidation` from S138 -> S163.
S163: swarm runtime status pass: re-ran `bash tools/check.sh --quick` after the periodic update; Beliefs PASS with NOTICE-only maintenance and no DUE/PERIODIC blockers.
S163: F119 stale-evidence calibration refined from single cutoff to mode-aware thresholds in `tools/maintenance.py`: runtime-portability drift stays at 12 sessions while offline/inter-swarm continuity now uses 16 sessions, reducing false stale notices on longer offline coordination loops.
S163: F119 regression suite expanded for the above calibration: added an explicit offline boundary check (`session=216` with latest `S200`) ensuring offline continuity is not marked stale at threshold; full suite passes 34/34 via `python3 tools/test_mission_constraints.py -v`.
S162: state-header regression coverage: added `check_state_header_sync()` parsing tests in `tools/test_mission_constraints.py` for FRONTIER header variants (pipe separator, case-insensitive form, and missing-session failure case), locking in the recent parsing hardening against future regressions.
S162: runtime revalidation pass: re-ran `bash tools/check.sh` (non-quick) after concurrent maintenance/test edits; Beliefs PASS and all listed regression suites pass with maintenance remaining NOTICE-only.
S162: F119 severity-threshold calibration: replaced hardcoded degraded-evidence staleness cutoff in `check_mission_constraints()` (`>8`) with named constant `F119_STALE_EVIDENCE_SESSIONS=12` (aligned to mission-constraint review cadence) to reduce noisy stale-transition notices from short-run session churn.
S162: F119 boundary regression hardening: `tools/test_mission_constraints.py` now verifies stale-evidence behavior at and above the new threshold; suite passes 24 tests via `python3 -m unittest tools/test_mission_constraints.py`.
S162: periodic health-check refresh: added latest health snapshot in `memory/HEALTH.md` (score 4.5/5), advanced `tools/periodics.json` marker `health-check` from S160 -> S162, and synced session headers for NEXT/INDEX/FRONTIER.
S161: F119 portability parity hardening: `check_mission_constraints()` degraded-runtime fallback now accepts either bash wrappers (`tools/check.sh` + `tools/maintenance.sh`) or PowerShell wrappers (`tools/check.ps1` + `tools/maintenance.ps1`), aligning mission-constraint continuity checks with runtime-portability checks.
S161: F119 regression expansion: added PowerShell-wrapper fallback coverage to `tools/test_mission_constraints.py` (runtime degraded-mode + temp-repo end-to-end); mission suite now passes 20 tests (`python3 tools/test_mission_constraints.py`).
S161: swarm runtime status pass: executed `python3 tools/maintenance.py`, `python3 tools/maintenance.py --inventory`, and `bash tools/check.sh --quick` in WSL; Beliefs PASS with NOTICE-only maintenance (dirty tracked/untracked tree), and no DUE/PERIODIC blockers.
S161: proxy-K telemetry refresh: ran `python3 tools/proxy_k.py --save` (dirty tree, TOTAL 38,456; log entries 55) so maintenance drift guidance references current state rather than stale snapshot history.
S160: PowerShell wrapper validation: executed `powershell -ExecutionPolicy Bypass -File tools/maintenance.ps1 --quick` and `powershell -ExecutionPolicy Bypass -File tools/check.ps1 --quick`; both returned NOTICE-only maintenance and Beliefs PASS parity with bash path.
S160: full runtime verification pass: executed `bash tools/check.sh` (non-quick). Beliefs PASS, maintenance NOTICE-only, and all listed regression suites PASS (`bulletin`, `wiki_swarm`, `swarm_parse`, `colony`, `swarm_pr`, `swarm_lanes`, `mission_constraints`, `repair`).
S160: F119 end-to-end degraded-mode validation: `tools/test_mission_constraints.py` now includes temp-repo integration tests for inter-swarm tooling degradation with/without offline continuity artifacts (`tasks/PR-QUEUE.json`, `tasks/SWARM-LANES.md`), verifying DUE is raised only when continuity artifacts are absent.
S159: periodic cadence refresh: completed principles-dedup audit (no new merge/supersede warranted in this pass) and setup-hygiene re-audit after recent maintenance/test hardening; advanced `tools/periodics.json` markers `principles-dedup` and `fundamental-setup-reswarm` from S157 -> S159.
S159: swarm runtime status pass: executed `python3 tools/maintenance.py`, `python3 tools/maintenance.py --inventory`, and `bash tools/check.sh --quick` in WSL; Beliefs PASS and maintenance remains NOTICE-only (WSL portability + dirty tracked tree), with no DUE/PERIODIC blockers.
S159: test-run portability hardening: `tools/test_mission_constraints.py` now imports `maintenance` via repo-root (`from tools import maintenance`) with tools-cwd fallback, so both `python3 -m unittest tools/test_mission_constraints.py` and `cd tools && python3 test_mission_constraints.py` run cleanly.
S158: session-log integrity calibration: `check_session_log_integrity()` now flags multi-step backfills (for example `S155->S153`) even when the older session ID was seen earlier in the recent window, while still allowing one-step reconciliation backfills.
S158: verification pass for the above calibration: `python3 -m unittest tools/test_mission_constraints.py` (from `tools/`) = OK (18 tests), `bash tools/check.sh --quick` = Beliefs PASS with NOTICE-only output.
S158: state-header parsing hardening: `check_state_header_sync()` FRONTIER regex now tolerates case/spacing variants and optional `|` before session marker, reducing false `State header parse failed: FRONTIER` notices during concurrent formatting edits.
S158: F119 validation pass: calibrated degraded/offline transition evidence parsing so reason/action can match within one session entry block (including continuation lines) instead of only same-line matches.
S158: F119 noise reduction: tightened degraded-mode evidence patterns in `check_mission_constraints()` by removing broad fallback tokens (`powershell`, generic `PASS`, generic `queue/sync`) and added regression coverage in `tools/test_mission_constraints.py`.
S158: session-log integrity noise reduction: `check_session_log_integrity()` now treats one-step tail backfills (`S<N>` then `S<N-1>`) as benign regardless of duplicate count, eliminating persistent false `recent non-monotonic order` notices in concurrent reconciliation.
S158: F119 regression coverage extended: added offline continuity split-session/stale-transition tests in `tools/test_mission_constraints.py`; suite then passed 16 tests (later expanded to 18 tests by S160 follow-on coverage).
S158: periodic cadence refresh: completed principles overlap scan (no merge/supersede change this pass) and setup-hygiene validation pass; advanced `tools/periodics.json` markers `principles-dedup` and `fundamental-setup-reswarm` to S157.
S157: proxy-K signal refinement: reordered dirty-snapshot handling in `check_proxy_k_drift()` so likely/current dirty snapshots are evaluated before stale-baseline fallback, reducing repeated stale-baseline churn in dirty-tree runs.
S157: setup hygiene: installed missing git hooks via `bash tools/install-hooks.sh` (`pre-commit`, `commit-msg`) and revalidated startup checks.
S156: F112 integrity hardening: expanded `check_file_graph()` coverage in `tools/maintenance.py` (README/OPERATIONS/NEXT included) and added shorthand alias resolution (`CORE.md` -> `beliefs/CORE.md`, `INDEX.md` -> `memory/INDEX.md`) so continuous file-graph checks catch real broken refs without false positives.
S156: session-log integrity refinement: `check_session_log_integrity()` now treats one-step recent-tail backfills (`S<N>` then `S<N-1>`) as benign concurrent reconciliation when the older ID appears once, reducing persistent false `recent non-monotonic order` noise.
S156: swarm runtime verification pass: ran `python3 tools/maintenance.py`, `python3 tools/maintenance.py --inventory`, and `bash tools/check.sh` in WSL. Result remains Beliefs PASS with NOTICE-only maintenance (dirty tree + stale dirty-session proxy-K baseline reminder), and no DUE/PERIODIC blockers.
S155: periodic cadence refresh: added a new `memory/HEALTH.md` check entry (score 4.5/5) and advanced `tools/periodics.json` `health-check` marker to S155.
S155: paper re-swarm cadence closeout: refreshed `docs/PAPER.md` session-scale anchor to S155 (counts unchanged: 207L/149P/14B/14F), clearing paper-age drift.
S155: F119 learning-quality reliability fix: `_tracked_changed_paths()` no longer strips porcelain status prefixes, so changed-path parsing preserves full filenames and mission-constraint knowledge-delta detection no longer raises false `F119 learning-quality gap` DUEs.
S155: F119 guard-coverage hardening: `check_mission_constraints()` now enforces continuity guard presence/wiring for `check_child_bulletins`, `check_help_requests`, and `check_swarm_lanes`; added `tools/test_mission_constraints.py` regression tests (duplicate invariant IDs + required guard wiring) and validated via `python3 -m unittest tools/test_mission_constraints.py`.
S155: maintenance signal consolidation: `check_uncommitted()` now folds WSL filtering counts (CRLF + `.claude`) into the tracked-delta notice instead of emitting separate portability noise lines; runtime recheck remains Beliefs PASS + maintenance NOTICE-only.
S155: F119 outcome-quality follow-through: `check_mission_constraints()` now checks degraded/offline continuity transitions by requiring explicit fallback/continuity notes in NEXT or recent SESSION-LOG when runtime/inter-swarm capability is degraded, and escalates if no fallback path exists.
S155: inventory portability refinement: `build_inventory()` now checks `py -3` only on Windows (or when `py` exists), removing irrelevant `NO py -3` noise on Linux/WSL while preserving launcher diagnostics on Windows hosts.
S154: swarm runtime status pass: re-ran `python3 tools/maintenance.py --quick` + `bash tools/check.sh --quick` in WSL; Beliefs PASS with NOTICE-only output. No DUE/PERIODIC blockers; remaining signal is operational noise (dirty tree + proxy-K clean-snapshot reminder).
S153: F119 integrity hardening: normalized `beliefs/INVARIANTS.md` mission IDs to a single canonical `I9-I12` set (removed duplicate/conflicting IDs) and upgraded `check_mission_constraints()` to flag duplicate invariant IDs plus require mission-tagged headings (`[MC-SAFE|PORT|LEARN|CONN]`).
S153: F119 mission-constraint partial close: added explicit invariants I9-I12 in `beliefs/INVARIANTS.md` (safety, portability, learning quality, continuity) and added `check_mission_constraints()` in `tools/maintenance.py` to enforce presence/wiring of core guard checks.
S153: F119 regression guard added: new `tools/test_swarm_lanes.py` validates lane-table shape/status values and `tasks/PR-QUEUE.json` schema/open-fingerprint uniqueness; `bash tools/check.sh` now executes this suite (`Swarm lanes regression: PASS`).
S152: runtime portability severity calibration: `check_runtime_portability()` now downgrades missing `python` alias to NOTICE when bash wrappers are available (`bash tools/check.sh --quick`, `bash tools/maintenance.sh --inventory`), while keeping DUE when neither alias nor wrapper path is usable.
S152: SWARM startup fallback text updated to explicit launcher set (`python3`/`python`/`py -3`) for bash-unavailable hosts.
S152: maintenance signal refinement: `check_proxy_k_drift()` now recognizes current-session dirty snapshots and shifts wording from repeated `re-save` churn to `save clean snapshot when stable`, preserving the signal while reducing false urgency loops in dirty-tree runs.
S152: paper drift repair: `docs/PAPER.md` scale statement synced to live frontier count (`13 -> 14`), clearing `PAPER scale drift` DUE in `check.sh --quick`.
S151: swarm runtime status pass: executed `python3 tools/maintenance.py --quick`, `python3 tools/maintenance.py --inventory`, and `bash tools/check.sh --quick` via WSL runtime (Windows `python` unavailable in this host context). Current state is Beliefs PASS with NOTICE-only maintenance (dirty-tree + live proxy-K drift prompt); no DUE/PERIODIC blockers.
S151: maintenance throughput hardening: `check_utility()` now scans tracked citation files with generated-path skips and a size cap, replacing full recursive reads of all `*.md/*.py/*.json`; local runtime dropped from ~95s to ~29s for `python3 tools/maintenance.py` while preserving NOTICE-level outputs.
S150: setup-hygiene follow-through: `check_uncommitted()` now ignores transient Temp `tmp*/parent-child` artifacts, and runtime rechecks (`python3 tools/maintenance.py --quick`, `bash tools/check.sh --quick`) are passing with NOTICE-only maintenance in this dirty tree.
S149: periodic health-check refreshed in `memory/HEALTH.md` (score 4.5/5; compactness stays WATCH on dirty-tree proxy-K volatility), and `tools/periodics.json` health-check marker advanced to S149.
S149: maintenance setup-hygiene cleanup: `check_periodics()` now prefixes alerts with periodic IDs (for example `[fundamental-setup-reswarm]`), reducing friction when mapping maintenance output back to `tools/periodics.json`.
S149: setup-hygiene periodic executed: `check_session_log_integrity()` now treats backfilled already-seen session IDs in the recent tail as benign (no persistent false non-monotonic alert). `tools/periodics.json` marker `fundamental-setup-reswarm` advanced to S149.
S148: P-155 live-trace follow-through executed: added `tools/p155_live_trace.py` and generated `experiments/colonies/p155-live-trace-s147.json` (software-agent trace tournament, n=80/context). Competitive incentives increased deceptor share by +18.6pp (1.1% -> 19.6%) and reduced group accuracy by -24.4pp (90.8% -> 66.3%) versus cooperative incentives.
S147: maintenance signal refinement: `check_session_log_integrity()` now ignores expected repeated session IDs and only flags actionable drift (exact duplicate rows or recent non-monotonic tail order). Also synced state counts to tracked lessons (`207`), removing stale `+1 draft` wording.
S148: principles-dedup periodic executed: merged P-131 into P-130 in `memory/PRINCIPLES.md` (agent visibility now includes collapsing untasked experiment batches into variant pools). Active principles 150→149; `tools/periodics.json` marker `principles-dedup` advanced to S148.
S146: maintenance signal cleanup: `check_cross_references()` now emits one concise notice for untracked lesson drafts (instead of two redundant lines), reducing startup noise while preserving lesson-drift visibility.
S145: claim-vs-evidence periodic audit executed: PHIL challenge outcomes are 3 CONFIRMED / 6 REFINED / 2 SUPERSEDED / 1 PARTIAL (12 total, confirmed-only ratio 25%), so no P-164 underchallenging signal (>80%) and no new contradictions requiring challenge rows.
S145: HUMAN-QUEUE cleanup: HQ-9 closed from explicit repeated continuation signal (`swarm` after pause prompts). Default operating rule reaffirmed: integrate on live concurrent edits unless human explicitly requests freeze/pause.
S144: P-155 promotion pass: added `memory/lessons/L-207.md` from controlled incentive simulation (`experiments/colonies/p155-trace-deception-s144.json`), advanced P-155 to PARTIALLY OBSERVED in `memory/PRINCIPLES.md`, synced `docs/PAPER.md`, and refreshed periodic maintenance state (HEALTH + cross-variant markers).
S143: P-128 promotion pass: status advanced from THEORIZED to PARTIALLY OBSERVED in `memory/PRINCIPLES.md` using existing L-124 evidence (n=22 across 2 projects, limited-sample caveat kept). `docs/PAPER.md` unresolved section synced to avoid principle-status drift.
S142: maintenance usability pass: `check_uncommitted()` now includes short path samples for tracked/untracked notices, turning dirty-tree noise into immediately actionable file-level context during swarm startup.
S141: Swarm runtime verification pass executed from Codex (`python tools/maintenance.py`, `python tools/maintenance.py --inventory`, `bash tools/check.sh`): validator PASS, no DUE/PERIODIC debt, maintenance remains NOTICE-only due to dirty-tree state.
S140: setup-hygiene periodic executed: `tools/maintenance.py` `check_runtime_portability()` now validates bridge integrity by ensuring each bridge file explicitly references `SWARM.md` (not just file existence). `tools/periodics.json` `fundamental-setup-reswarm` marker advanced to S140.
S139: setup-hygiene maintenance hardening: added a periodics/session consistency guard in `tools/maintenance.py` (`check_periodics` now flags markers ahead of `SESSION-LOG`). State headers synced to latest session for `NEXT`/`INDEX`/`FRONTIER`.
S138: periodic health check refreshed in `memory/HEALTH.md` (score 4.5/5) and `tools/periodics.json` health-check marker advanced to S138. State header drift corrected by syncing `memory/INDEX.md` and `tasks/FRONTIER.md` session anchors to latest log.
S137: principles-dedup periodic executed: reduced overlap between P-109 and P-134 in `memory/PRINCIPLES.md` by separating roles (P-109 = duplication-rate signal; P-134 = dark-matter composition + cleanup prioritization). `tools/periodics.json` `principles-dedup` marker advanced to S137.
S136: F115 periodic paper re-swarm executed: `docs/PAPER.md` advanced to v0.6 with scale/session anchors refreshed to current state (S135 counts and timeline window), and `tools/periodics.json` `paper-reswarm` marker advanced S130→S135.
S135: Swarm runtime verification pass completed from Codex: `python tools/maintenance.py`, `python tools/maintenance.py --inventory`, and `bash tools/check.sh`. Belief validator PASS and maintenance remains NOTICE-only (no DUE/PERIODIC blockers); priorities unchanged.
S134: F105 proxy-K baseline fix: `tools/maintenance.py` `check_proxy_k_drift()` now builds schema-compatible baselines from all matching snapshots (preferring clean matches), instead of filtering only within preselected clean-history entries. This removes false `schema baseline unavailable (0 matching snapshots)` notices when valid schema-tagged dirty snapshots exist. Maintenance now returns NOTICE-only operational noise.
S133: HUMAN-QUEUE cleanup: closed HQ-8 using explicit human continuation signal (`swarm` => continue on concurrent edits) and re-scoped HQ-5 out of human-only queue (execution task, not human decision). Maintenance now shows no open HUMAN-QUEUE items and remains NOTICE-only.
S132: tool-consolidation follow-through: extracted shared parser helpers to new `tools/swarm_parse.py` (`active_principle_ids`, `active_frontier_ids`, `archived_frontier_ids`) and rewired both `tools/maintenance.py` + `tools/paper_drift.py` to use the shared module. Proxy-K T4 accounting now explicitly includes `swarm_parse.py` to avoid blind spots; periodic marker `tool-consolidation` advanced to S132.
S131: F105 cleanup pass applied on tooling surface: compressed `tools/maintenance.py`/`tools/paper_drift.py`/`tools/validate_beliefs.py`, simplified maintenance signal text, and refreshed proxy-K log via `python tools/proxy_k.py --save`. Result: maintenance and `bash tools/check.sh` now return NOTICE-only in this runtime (no DUE/PERIODIC blockers).
S130: F115 sentinel extended in `tools/paper_drift.py` to monitor explicit paper challenge-ratio claims (`X/Y challenges confirmed`) against live `beliefs/PHILOSOPHY.md` challenge-table stats. Also hardened `check_proxy_k_drift` in `tools/maintenance.py` to downgrade stale logged drift to NOTICE when dirty-tree live drift is already within threshold, removing a false-blocking DUE path.
S129: tool-consolidation periodic marker synced (`tools/periodics.json` S102→S128), and maintenance recheck now returns NOTICE-only (no DUE/PERIODIC). Handoff focus shifts from periodic debt to live-drift stabilization and pending principle/deploy work.
S128: setup-hygiene + cross-variant periodic pass: restored missing `tools/paper_drift.py` module so `tools/maintenance.py` executes again, tuned Proxy-K drift logic to downgrade dirty-session logged spikes to NOTICE, and reviewed cross-variant state (no active bulletin queue/new integration activity this cycle). `tools/periodics.json` marker `cross-variant-harvest` advanced S110→S128.
S127: Fundamental setup re-swarm periodic executed: fixed Windows console Unicode crash path in `tools/evolve.py` by configuring stdout/stderr encoding errors to `replace` at startup. Verified usage/help and compare path (`python tools/evolve.py`, `python tools/evolve.py compare belief-minimal belief-control`) run without `UnicodeEncodeError`. Updated `tools/periodics.json` marker `fundamental-setup-reswarm` S117→S126.
S126: periodic health check refreshed in `memory/HEALTH.md` (score 4.5/5): compactness moved to WATCH due to dirty-tree live proxy-K drift (+8.8% vs floor), while all other indicators stayed HEALTHY. `tools/periodics.json` health-check marker advanced to S126.
S125b: claim-vs-evidence periodic refreshed: PHIL-5 stale embedded challenge ratio (`6/7`) removed from identity prose and replaced with directional wording; PHIL challenge table appended with `REFINED S125`; `tools/periodics.json` claim-vs-evidence marker advanced S123→S125.
S125: principles-dedup periodic executed: merged overlapping NK-composite guidance by absorbing P-038 into P-042 (`memory/PRINCIPLES.md`). Active principles 151→150; `tools/periodics.json` `principles-dedup` marker advanced to S125. Synced `memory/INDEX.md` counts and paper scale statement to clear maintenance drift notices.
S124: principles-dedup periodic executed: overlap review tightened boundary between P-146 and P-147 in `memory/PRINCIPLES.md` (P-146 = cold-start bootstrap completeness; P-147 = cadence ownership/update responsibility in `tools/periodics.json`). No principle-count change; `tools/periodics.json` marker advanced S110→S124.
S123: README user-level operating pattern clarified: Codex is actively running sessions; user workflow is mainly frequent `swarm` triggering, history-based inspection, exploratory token burn, and selective heavy steering around key objectives.
S122: F105 compaction pass executed from maintenance DUE signal (proxy-K drift 8.8%). Compressed high-growth narrative files (`memory/INDEX.md`, `tasks/FRONTIER.md`) plus `SWARM.md` wording density. Drift dropped to 5.8% mid-pass, then rebounded during concurrent dirty-tree growth (observed up to 7.6%); maintenance reports this as live-drift NOTICE (`save when stable`) rather than DUE.
S121: F115 sentinel extension implemented in `tools/maintenance.py`: `check_paper_accuracy()` now validates explicit paper principle-status claims (`P-xxx OBSERVED/THEORIZED/PARTIALLY OBSERVED/...`, including grouped claims like `P-128 and P-155`) against statuses in `memory/PRINCIPLES.md`. Baseline check is quiet; synthetic probes confirm drift detection.
S119: F115 sentinel calibration refinement: `check_paper_accuracy()` contradiction alerts were deduplicated so one ID emits one primary DUE signal (for example archived-open or resolved-still-active) instead of duplicate cascades. Synthetic rechecks confirmed cleaner output with preserved detection.
S118: F115 extension implemented in `tools/maintenance.py`: `check_paper_accuracy()` now checks frontier-claim consistency in `docs/PAPER.md` by validating explicit `Fxxx RESOLVED` claims against `tasks/FRONTIER-ARCHIVE.md` and explicit `open question ... Fxxx` claims against active `tasks/FRONTIER.md`. Live parse confirms expected IDs (`resolved=[F92,F118]`, `open=[F114]`) with no new maintenance noise. Periodic health check also refreshed (`memory/HEALTH.md`), and `tools/periodics.json` health-check marker advanced to S118.
S117: F115 calibration pass completed for `check_paper_accuracy()` using synthetic dry-run scenarios (no real paper edits): clean state emits no alert; age==cadence emits DUE; age==2x cadence emits URGENT; scale mismatch emits NOTICE with field-level diffs. Thresholds kept unchanged.
S116: F115 follow-through implemented in `tools/maintenance.py`: new `check_paper_accuracy()` enforces living-paper drift checks (paper-version age vs cadence + parseable scale-statement consistency against live lessons/principles/beliefs/frontier counts). Maintenance now surfaces paper drift automatically instead of relying only on manual re-swarms.
S115: Maintenance stabilization: refreshed proxy-K measurement (`python tools/proxy_k.py --save`) to clear false URGENT drift from stale log head; current total 24,598 (+2.9% vs floor 23,916). Updated `tools/periodics.json` proxy-k marker to S115. Maintenance now NOTICE-only.
S114: F115 accuracy pass completed on `docs/PAPER.md` (v0.3): stale S94-era claims/counters updated to S113 state, F92/F118 moved from pending to resolved evidence, and unresolved set narrowed to PHIL-8 + P-128/P-155 + cross-session initiation gap.
S113: F92 RESOLVED and archived with conditional rule (workload topology + coordination primitive): independent fanout tasks peak near fanout (N=3 for 3-task wiki benchmark), lock-heavy cooperative RMW peaks near N=2 (S110/S111), append-only cooperative shared-file path scales to N~4 (S112). FRONTIER active 14→13.
S112: F92 primitive split benchmark completed (raw: experiments/spawn-quality/f92-real-cooperative-benchmark-s112.json): real shared-file append-only bulletin workflow (`tools/bulletin.py write`) scales through N=4 (N=2 1.59x, N=3 1.79x, N=4 2.53x vs N=1; 0 failures). L-204 written; FRONTIER F92 refined from workload-level to primitive-level guidance.
S111: F92 real-task validation completed (raw: experiments/spawn-quality/f92-real-coop-benchmark-s111.json) using a swarm-style shared markdown update workflow: N=2 is best (1.02x vs N=1), while N=3 (0.96x) and N=4 (0.86x) regress. L-203 written; FRONTIER F92 refined with real cooperative evidence.
S110: F92 cooperative-case benchmark completed (raw: experiments/spawn-quality/f92-cooperative-benchmark-s110.json): shared-state SQLite workload peaks at N=2 (1.21x vs N=1), while N=3 (0.96x) and N=4 (0.91x) regress under lock contention. L-202 written; FRONTIER F92 refined to workload-topology sizing rule.
S109: F92 N=4 closeout benchmark completed (raw: experiments/spawn-quality/f92-n4-benchmark-s109.json): wiki 3-task workload peaked at N=3 (2.77x) and regressed at N=4 (2.69x); compute-heavy 4-task workload showed only +1.9% N=4 gain over N=3 (2.45x vs 2.40x) with lower efficiency. L-201 written; FRONTIER F92 refined.
S108: F92 controlled same-task benchmark completed (`wiki_swarm`, 3 topics): median speedups N=2 1.33x, N=3 2.75x vs N=1; supports N=3 default for independent 3-task workloads. L-200 written; FRONTIER F92 refined.
S107: F92 advanced with second colony-size data point from spawn-log: N=2 (SE-001) was suboptimal when partition skipped discovery (0 cross-agent-unique, 2.3x tool-call overhead); FRONTIER F92 updated to require controlled N=2/3/4 comparison.
S105: F118 RESOLVED and archived in FRONTIER-ARCHIVE (non-Claude execution criterion satisfied by Codex run evidence from S104).
S104: F118 non-Claude execution tested in Codex CLI on this repo; SWARM startup path and maintenance run validated (NOTICE-only, no DUE/URGENT).
S103: context_router.py re-embedded in INDEX.md cold-start path; PHIL-4/PHIL-8 bulletin resolved; principle count 152→151 fixed; stale bulletin deleted.
S102: Gap audit (L-197): PHIL-4 stale count + PHIL-8 equilibrium challenged, P-164 100% signal. Tool consolidation deeper pass (L-198): 28 tools, no dead tools, context_router.py = key lost-embedding (63 sessions unused).
S101: Claim-vs-evidence audit (L-195) + tool consolidation (L-196) complete. 22% non-embedded = within P-090 norm.
S100: T3 compression complete — PRINCIPLES.md −968t; proxy K 24,856→23,916 (2.3% above floor).

## For next session
1. **Compaction** — proxy-K at 40,415 (+69% above floor 23,916); run `python3 tools/compact.py` against highest-drift files (T4-tools is 61.4%), then save clean snapshot.
2. **PHIL-13 structural follow-through** — REFINED S165 acknowledged competitive deception risk; consider whether fitness-ranking structure should add explicit anti-deception constraints (requires human direction per authority hierarchy).
3. **P-155 follow-through (high-fidelity)** — run the same incentive contrast on real LLM/human-task traces (beyond software-agent simulation).
4. **F111 deploy decision** — workspace ready. Human review needed.
5. **Runtime portability follow-through** — PowerShell wrapper path is validated (`tools/check.ps1`, `tools/maintenance.ps1`) and parity-tested in S160; decide whether to keep wrapper-first startup or repair native `python`/`py` launcher mapping.
6. **F119 follow-through** — monitor live runs under `F119_STALE_EVIDENCE_SESSIONS=12`; recalibrate only if false positives persist or continuity-risk recall degrades.

## Key state
- **Compaction URGENT**: compact.py +44.6% drift (floor 27,739; current ~40,113); T4-tools dominant (maintenance.py 20,027t, 2049L); target ~12,374 token reduction.
- 208L 149P 14B 15F (F120 added S166). Validator PASS.
- F105 RESOLVED: compact.py wired. F76/F71/F101 RESOLVED. F115 paper v0.6. F120 OPEN (entry protocol generalizability).
- Next cross-variant harvest due ~S173 (cadence S158). Next principles-dedup due S169.
- 0 THEORIZED remain. 6 PARTIALLY OBSERVED (P-128/P-141/P-155/P-156/P-157/P-158).
