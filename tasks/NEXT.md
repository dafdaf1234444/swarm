# State
Updated: 2026-02-27 S180

## Key state
- 233L 159P 17B 18F — Validator PASS. Health score 5/5 (S177). Compaction healthy (floor 36,560t S174, proxy-K +2.4%).
- `python3 tools/orient.py` — single-command orientation; reads this file + maintenance + frontiers (S173).
- `python3 tools/sync_state.py` — auto-fix count/session drift in INDEX/FRONTIER/NEXT/PRINCIPLES (S176, L-216).
- F123 OPEN (expect-act-diff protocol: predict before acting, diff after, route large gaps to CHALLENGES.md; memory/EXPECT.md). F122 PARTIAL (knowledge-domain swarming: domains/ai/ created S178 — 5 isomorphisms + 4 domain frontiers; open: finance/health domains, second-child replications). F121 OPEN (human inputs as swarm signal). F120 first impl: substrate_detect.py. F119 OPEN.
- 2 THEORIZED (P-181/P-182). 6 PARTIALLY OBSERVED (P-128/P-141/P-155/P-156/P-157/P-158).

## Expect next (F123 instrumentation — S179)
- `domains/ai/` exists: DOMAIN.md + INDEX.md (5 isomorphisms) + tasks/FRONTIER.md (F-AI1–F-AI4 experiments)
- Maintenance shows NOTICE-only (no DUE/URGENT items)
- State-sync periodic is current (S178); counts correct; validator PASS
- Next session should find F-AI1/F-AI2/F-AI3 as concrete experiment candidates ready to run

## For next session
1. **F121 advance** — human inputs as swarm signal (OPEN S173); categorize steering patterns in HUMAN-SIGNALS.md; wire signal detection into swarm behavior.
2. **F122 extend domains** — domains/ai/ PARTIAL (S178: 5 isomorphisms + 4 frontiers); next: `domains/finance/` (portfolio→parallelization) or second-child replications for L-218/L-219; measure sequential-task ceiling (F-AI1).
3. **PHIL-13 structural follow-through** — competitive deception risk acknowledged (S165 REFINED); consider explicit anti-deception constraints in fitness-ranking (requires human direction per authority hierarchy).
3. **P-155 follow-through (high-fidelity)** — run incentive contrast on real LLM/human-task traces (beyond software-agent simulation).
4. **F111 deploy decision** — workspace ready; human review needed.
5. **F119 follow-through** — monitor live runs under `F119_STALE_EVIDENCE_SESSIONS=12`; recalibrate if false positives persist.
6. **Keep Key state fresh** — update these two sections before every handoff; orient.py reads them directly.

## What just happened
S180: principles-dedup (P-123→P-175 superseded: enforcement tiers is strict superset); L-229/L-230/L-231 state clean; PAPER updated to 232L 159P 17B 18F; periodics markers advanced (principles-dedup S170→S180, state-sync S179→S180). Meta-swarm: Lesson Sharpe ratio (L-231) shows 67% of recent lessons have zero external citations — low-Sharpe cluster (L-150–168) is prime compaction target next cycle.
S178: info-asymmetry audit (F-AI3 theme): SESSION-LOG = 105 write commits but ZERO read path; HUMAN-SIGNALS = no load path; fixed INDEX load-when table; CORE.md hash FAIL repaired. L-225 filed.
S178: F122 PARTIAL — domains/ai/ seeded: DOMAIN.md + INDEX.md (5 isomorphisms from L-217–L-220 + L-207, believe→chain→compress validated with empirical MAS evidence) + tasks/FRONTIER.md (4 domain frontiers F-AI1–F-AI4). F122 updated PARTIAL in global FRONTIER.md. NEXT.md priorities reordered (F121 #1, F122 extend #2).
S178: sync_state.py: auto-refresh core_md_hash (recurring validator FAIL root cause fixed); L-222 trimmed to ≤20 lines; PAPER.md 153P→154P drift cleared; state-sync periodic advanced to S178. Meta-swarm observation: core_md_hash was the #1 recurring friction point — wired into every-handoff sync so it can't drift again.
S178: change-quality-check: change_quality.py built (L-223); periodic registered (cadence 5); first run DECLINING -57% long-term trend found; S176 57% overhead flagged. Human signal: measuring quality vs. past is core swarm function.
S178: expect-act-diff primitive: CORE.md v0.6 principle 11; memory/EXPECT.md created; L-223+P-182+F123 filed; HUMAN-SIGNALS.md updated. 223L 154P 14B 18F.
S178: paper-reswarm v0.8 + F123 expect-act-diff: contributed PHIL-14 paragraph to PAPER identity section; fixed L-222 (compressed to <20L); registered EXPECT.md protocol as F123 (expect-act-diff, previously unregistered entropy); updated FRONTIER.md to 18F, INDEX.md hash renewed (CORE.md drift resolved). Validator PASS 100/100.
S177: continuous meta-swarming: human signal "swarm has to continuously think about swarming itself" → meta-reflection is now structural (mandatory per-session step in Compress phase); /swarm command updated with Meta-swarm bullet (P-180); L-221 + P-180 filed; HUMAN-SIGNALS.md updated; swarm.md WSL-corruption fixed.
S176: agent-utilization: human signal "safely collaborating and growing the swarm, making sure agents are utilized is a core function" → P-179 added (spawn discipline gates utilization: decomposable→multi-agent, sequential >45% baseline→CoT/SC); P-082/P-119/P-154/P-158 updated from L-217–L-220 (MAS coordination ceiling, asynchrony cascade defense, info-surfacing bottleneck, capability⊥vigilance); HUMAN-SIGNALS.md S176 entry + pattern; swarm.md WSL corruption fixed; F119 learning-quality gap closed. Validator PASS.
S177: knowledge-domain swarming signal: human asked whether swarm can extend to finance/health/AI. Answer: YES — believe→challenge→compress cycle is substrate-independent; evidence mechanism changes (execution→empirical) but structure holds. Domain utility filter: only swarm domains with structural isomorphisms to swarm coordination. AI highest ROI (direct self-reference). F122 filed (knowledge-domain swarming), L-222 filed, P-181 filed. HUMAN-SIGNALS.md updated. 223L 153P 14B 17F.
S178: ancient-functionality investigation: traced evolution mechanisms across CORE.md (8 commits v0.1→v0.5), maintenance.py (36 commits), swarm.md (8 commits). Finding: ancient artifacts need DUAL pressure — bottom-up (L-N→P-N→PHIL challenge→belief revision) AND top-down (periodics.json forces scheduled revisit at cadences 5-25). Self-tooling loop (L-214) is a third path. L-222 filed. Maintenance DUE cleared by concurrent session (PAPER counts + P-155 status). 222L 152P.
S176: repeating-pattern swarm: wired 2 new periodics — `state-sync` (cadence 1, automates ~4% state-sync commit overhead via sync_state.py, L-216) and `human-signal-harvest` (cadence 10, F121 advance — scans HUMAN-SIGNALS.md for unencoded patterns); P-179 added (spawn discipline: multi-agent ceiling at >45% single-agent baseline, degrade 39-70%); FRONTIER F121 updated; validator PASS.
S177: health-check periodic executed (last S171, due S176): 5/5 all indicators healthy; 220L 150P 14B 16F, proxy-K +2.4% (floor 36,560t S174). Harvest findings: C1 info asymmetry = dominant MAS bottleneck (3 children, 50pt gap), C2 MAS debate < single-agent CoT (2 children). Periodics queue cleared: all 6 periodics now current through S173-S177.
S176: usage audit (git churn by file+type): blackboard IS the most-used subsystem (INDEX 195 commits, FRONTIER 163, PRINCIPLES 136, NEXT 131 = 625 total); 16/415 commits (~4%) were pure state-sync overhead; built tools/sync_state.py (auto-patch counts — lesson/principle/belief/frontier + session headers); caught real drift on first run; L-216 filed.
S175: human signal (task accumulation = natural state) → L-215 filed, P-178 added (self-replenishing cycle), HUMAN-SIGNALS.md updated with self-perpetuation pattern, F121 advanced, FRONTIER/INDEX/NEXT synced to 215L 150P. Cross-variant harvest spawned (background agent, periodics marker will be advanced when complete).
S176: NEXT.md restructured — Key state and For next session moved to top so orient.py (and any direct read) sees current state first; stale values (208L/149P, compaction URGENT) replaced with live counts (214L 149P, healthy); /swarm fallback path updated to include tasks/NEXT.md; INDEX.md "What to load when" updated. Root cause: sections existed but were buried under growing history, causing orient.py to surface stale priorities.
S175: F120 validation pass — substrate_detect.py 10/10 stacks correct; NEXT.md F120 item updated.
S174: NEXT.md history compressed — S100-S169 bulk replaced with archive ref; FRONTIER/INDEX headers synced to S174; proxy-K +0.0% healthy (floor 36,560t S171, maintenance.py 1,500L after -28% compaction sprint S169-S171).
S173: self-tooling loop: orient.py built (single-command orientation — replaces 5-read + maintenance pattern every session); HUMAN-SIGNALS.md created (structured human input archive); L-214 filed (self-tooling loop: session logs are tool-requirements); F121 filed (human inputs as swarm signal); /swarm command updated to call orient.py + substrate_detect.py at Orient step; .claude/commands/swarm.md WSL corruption fixed. 214L 149P 14B 16F.
S173: fundamental-setup-reswarm periodic (cadence 8, last S165): all 6 bridge files reference SWARM.md; git hooks (pre-commit + commit-msg) installed; validator PASS; no friction in fundamentals this pass. Marker advanced S165→S173.
S173: mission-constraint-reswarm periodic (cadence 12, last S161): I9-I12 invariants reviewed and intact; FRONTIER.md F119 updated from S161→S173 reflecting S162-S164 calibrations (stale thresholds, noise reduction, stale-notice observability); PHIL-13 (competitive deception risk) noted as open I9 context; I10/F120 boundary clarified. Marker advanced S161→S173.
S173: tools/substrate_detect.py committed — F120 implementation: detect swarm vs foreign repo, language/framework/tooling; orient_text() returns protocol guidance; tested on this repo (swarm-repo, all 7 tools detected) and foreign path (behavioral-norms-only path). Advances F120 from OPEN to first concrete implementation.
S172: health-check periodic marker advanced S166→S171 (two S171 concurrent sessions had written health checks but forgot to advance periodics.json; score: 5/5 all indicators green, compactness resolved from S166 URGENT). Maintenance now NOTICE-only. 213L 148P 14B 15F.
S171: principles-dedup (due S169): scanned 148 principles — no merges warranted (P-089/P-172 and P-101/P-154 are complementary not redundant); extracted P-176 from L-211 (cross-substrate propagation gap: structural checks don't propagate to child swarms/foreign repos; only behavioral norms survive substrate changes; F120, OBSERVED); periodics marker advanced S159→S169 (concurrent session advanced it simultaneously); 147→148P.
S170: principle count drift fixed — PRINCIPLES/INDEX/PAPER corrected from 150→147 (actual ID count after deduplication); FRONTIER header synced S169→S170; maintenance.py check_cross_references duplicate _git ls-files call removed (single fullmatch pass now sufficient). PAPER scale drift DUE cleared; maintenance NOTICE-only.
S170: principles-dedup periodic executed — P-163 updated (dynamic-equilibrium→rising-sawtooth per S165/PHIL-8 evidence), P-082 nuanced (reduces not eliminates social-perception failures; trace deception caveat via P-155), P-175 added (enforcement tiers: ~80% structural/~20% behavioral, from L-210). Resolved P-174 ID collision with concurrent S169 session (renamed to P-175). Principles 150→151. Periodics marker advanced S169→S170.

S169: README docs pass + maintenance.py _truncated() refactor + P-174 substrate-scope contamination added + swarm setup verified.
S166–S168: substrate-detection sprint — F120 filed (L-208 through L-212), proxy-K masking fix, /swarm command evolved (substrate-detect step).
S100–S165: archived to memory/SESSION-LOG.md
